---
layout: page
permalink : /archive
---

<div>
  <section class="archive_list">
    {% for post in site.posts %}

    <div>
      <a class="post-a" href="{{ post.url | prepend: site.baseurl | uniq }}">
        <section class="post-frame">
          <h2 class="post-title">{{ post.title | uniq }}</h2>
          <time>{{post.date | date: "%-d %B %Y"}}</time>
          <details open>{{ post.content | markdownify | strip_html  | truncatewords: 15 }}</details>
        </section>
        <figure class="thumbnail-img-frame">
        <img class="post-thumbnail" src='{{post.thumbnail}}'>
        </figure>
      </a>
    </div>

    {% endfor %}


  </section>

</div>

<script type="text/javascript">
  // thumbnail removed if itself's post doesn't have a thumbnail
  var postFrame = document.getElementsByClassName('.post-frame')
  var thumbnailFrame = document.getElementsByClassName('thumbnail-img-frame')
  var postThumbnail = document.getElementsByClassName('post-thumbnail')
  console.log(postThumbnail)
  console.log(postThumbnail.length)
  for (i = 0; i < postThumbnail.length; i++) {
    console.log(i)
    console.log(postThumbnail[i].src)
    console.log(window.location.href)
    if (postThumbnail[i].src == window.location.href) {
      postThumbnail[i].outerHTML = '';
      thumbnailFrame[i].outerHTML = '';
      postFrame[i].style.width = 100 + '%';

      console.log(postThumbnail[i].src)
    }
}
</script>
